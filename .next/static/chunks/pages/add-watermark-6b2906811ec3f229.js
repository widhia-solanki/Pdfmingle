(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[707],{7443:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/add-watermark",function(){return a(1941)}])},1095:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.372.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,a(9648).Z)("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]])},217:function(e,t,a){"use strict";a.d(t,{X:function(){return o}});var r=a(5893),s=a(2417),l=a(9967),i=a(3552),n=a(9661);let o=e=>{let{downloadUrl:t,onStartOver:a,filename:o}=e;return(0,r.jsxs)("div",{className:"w-full max-w-lg mx-auto flex flex-col items-center text-center gap-6 p-8 bg-green-500/10 border-2 border-green-500/20 rounded-xl",children:[(0,r.jsx)(l.Z,{className:"w-20 h-20 text-green-500"}),(0,r.jsx)("h2",{className:"text-3xl font-bold text-foreground",children:"Processing Complete!"}),(0,r.jsx)("p",{className:"text-muted-foreground",children:"Your file is ready for download."}),(0,r.jsxs)("div",{className:"w-full flex flex-col items-center gap-4 mt-4",children:[(0,r.jsx)("a",{href:t,download:o,className:"w-full",children:(0,r.jsxs)(s.z,{size:"lg",className:"w-full h-16 text-xl font-bold bg-brand-blue hover:bg-brand-blue-dark text-white",children:[(0,r.jsx)(i.Z,{className:"mr-3 h-6 w-6"}),"Download ",o]})}),(0,r.jsxs)(s.z,{variant:"outline",onClick:a,className:"w-full h-12 text-lg",children:[(0,r.jsx)(n.Z,{className:"mr-2 h-5 w-5"}),"Start Over"]})]})]})}},9314:function(e,t,a){"use strict";a.d(t,{A:function(){return l}});var r=a(5893),s=a(5197);let l=()=>(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center p-12 gap-4",children:[(0,r.jsx)(s.Z,{className:"w-16 h-16 text-primary animate-spin"}),(0,r.jsx)("p",{className:"text-lg font-semibold text-foreground animate-pulse",children:"Processing your file..."}),(0,r.jsx)("p",{className:"text-muted-foreground",children:"Please wait a few moments."})]})},9607:function(e,t,a){"use strict";a.d(t,{S:function(){return f}});var r=a(5893),s=a(7294),l=a(9994),i=a(2417),n=a(3023),o=a(9122),d=a(6341),c=a(8154),u=a(7596);let f=e=>{let{onFilesSelected:t,onProcess:a,acceptedFileTypes:f,actionButtonText:m,selectedFiles:x,isMultiFile:g,error:p}=e,h=(0,s.useCallback)(e=>{t(g?[...x,...e]:e)},[g,x,t]),{getRootProps:b,getInputProps:v,isDragActive:j,open:y}=(0,l.uI)({onDrop:h,accept:f,multiple:g,noClick:!0,noKeyboard:!0}),w=e=>{let a=[...x];a.splice(e,1),t(a)};return(0,r.jsxs)("div",{className:"w-full max-w-2xl mx-auto flex flex-col items-center gap-6",children:[(0,r.jsxs)("div",{...b(),className:(0,u.cn)("w-full border-2 border-dashed rounded-xl p-8 text-center transition-colors flex flex-col items-center justify-center min-h-[250px]",j?"border-primary bg-primary/10":"border-border bg-card",p&&"border-destructive bg-destructive/10"),children:[(0,r.jsx)("input",{...v()}),p?(0,r.jsxs)("div",{className:"flex flex-col items-center gap-4 text-destructive-foreground",children:[(0,r.jsx)(n.Z,{className:"w-16 h-16"}),(0,r.jsx)("p",{className:"text-lg font-semibold",children:"Upload Failed"}),(0,r.jsx)("p",{className:"text-base",children:p})]}):(0,r.jsxs)("div",{className:"flex flex-col items-center gap-4 text-muted-foreground",children:[(0,r.jsx)(o.Z,{className:"w-16 h-16"}),(0,r.jsx)("p",{className:"text-lg font-semibold",children:"Drag & drop files here"}),(0,r.jsx)("p",{className:"text-sm",children:"- or -"}),(0,r.jsx)(i.z,{type:"button",onClick:y,className:"bg-brand-blue hover:bg-brand-blue-dark text-white font-bold py-3 px-6 rounded-lg",children:"Select Files"})]})]}),x.length>0&&!p&&(0,r.jsxs)("div",{className:"w-full space-y-2",children:[(0,r.jsx)("h3",{className:"font-semibold text-lg text-left text-foreground",children:"Selected Files:"}),x.map((e,t)=>(0,r.jsxs)("div",{className:"w-full flex items-center justify-between p-3 bg-secondary rounded-lg",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 overflow-hidden",children:[(0,r.jsx)(d.Z,{className:"w-6 h-6 text-muted-foreground flex-shrink-0"}),(0,r.jsx)("span",{className:"font-medium truncate text-foreground",children:e.name})]}),(0,r.jsx)(i.z,{variant:"ghost",size:"icon",onClick:()=>w(t),className:"h-8 w-8 text-muted-foreground hover:text-foreground",children:(0,r.jsx)(c.Z,{className:"h-5 w-5"})})]},e.name+t))]}),x.length>0&&!p&&m&&(0,r.jsx)(i.z,{size:"lg",onClick:a,className:"w-full md:w-auto px-12 py-6 text-lg font-bold bg-red-500 hover:bg-red-600 mt-4",children:m})]})}},1165:function(e,t,a){"use strict";a.d(t,{V:function(){return ei}});var r=a(5893),s=a(7294),l=a(6206),i=a(5360),n=a(6681),o=a(9115),d=a(9602),c=a(8990),u=a(7342),f=a(1276),m="Tabs",[x,g]=(0,i.b)(m,[n.Pc]),p=(0,n.Pc)(),[h,b]=x(m),v=s.forwardRef((e,t)=>{let{__scopeTabs:a,value:s,onValueChange:l,defaultValue:i,orientation:n="horizontal",dir:o,activationMode:x="automatic",...g}=e,p=(0,c.gm)(o),[b,v]=(0,u.T)({prop:s,onChange:l,defaultProp:i??"",caller:m});return(0,r.jsx)(h,{scope:a,baseId:(0,f.M)(),value:b,onValueChange:v,orientation:n,dir:p,activationMode:x,children:(0,r.jsx)(d.WV.div,{dir:p,"data-orientation":n,...g,ref:t})})});v.displayName=m;var j="TabsList",y=s.forwardRef((e,t)=>{let{__scopeTabs:a,loop:s=!0,...l}=e,i=b(j,a),o=p(a);return(0,r.jsx)(n.fC,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:s,children:(0,r.jsx)(d.WV.div,{role:"tablist","aria-orientation":i.orientation,...l,ref:t})})});y.displayName=j;var w="TabsTrigger",N=s.forwardRef((e,t)=>{let{__scopeTabs:a,value:s,disabled:i=!1,...o}=e,c=b(w,a),u=p(a),f=I(c.baseId,s),m=T(c.baseId,s),x=s===c.value;return(0,r.jsx)(n.ck,{asChild:!0,...u,focusable:!i,active:x,children:(0,r.jsx)(d.WV.button,{type:"button",role:"tab","aria-selected":x,"aria-controls":m,"data-state":x?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:f,...o,ref:t,onMouseDown:(0,l.M)(e.onMouseDown,e=>{i||0!==e.button||!1!==e.ctrlKey?e.preventDefault():c.onValueChange(s)}),onKeyDown:(0,l.M)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&c.onValueChange(s)}),onFocus:(0,l.M)(e.onFocus,()=>{let e="manual"!==c.activationMode;x||i||!e||c.onValueChange(s)})})})});N.displayName=w;var k="TabsContent",C=s.forwardRef((e,t)=>{let{__scopeTabs:a,value:l,forceMount:i,children:n,...c}=e,u=b(k,a),f=I(u.baseId,l),m=T(u.baseId,l),x=l===u.value,g=s.useRef(x);return s.useEffect(()=>{let e=requestAnimationFrame(()=>g.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,r.jsx)(o.z,{present:i||x,children:({present:a})=>(0,r.jsx)(d.WV.div,{"data-state":x?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":f,hidden:!a,id:m,tabIndex:0,...c,ref:t,style:{...e.style,animationDuration:g.current?"0s":void 0},children:a&&n})})});function I(e,t){return`${e}-trigger-${t}`}function T(e,t){return`${e}-content-${t}`}C.displayName=k;var z=a(7596);let P=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(y,{ref:t,className:(0,z.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",a),...s})});P.displayName=y.displayName;let S=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(N,{ref:t,className:(0,z.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",a),...s})});S.displayName=N.displayName;let _=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(C,{ref:t,className:(0,z.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",a),...s})});_.displayName=C.displayName;var R=a(8501),F=a(428);let D=[{id:"top-left",label:"Top Left",class:"top-1 left-1"},{id:"top-right",label:"Top Right",class:"top-1 right-1"},{id:"center",label:"Center",class:"top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2"},{id:"bottom-left",label:"Bottom Left",class:"bottom-1 left-1"},{id:"bottom-right",label:"Bottom Right",class:"bottom-1 right-1"}],V=e=>{let{position:t,onPositionChange:a}=e;return(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsx)(F._,{className:"font-medium",children:"Position"}),(0,r.jsx)("div",{className:"relative w-full h-32 mx-auto bg-gray-100 dark:bg-gray-800 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg",children:D.map(e=>(0,r.jsx)("button",{type:"button",onClick:()=>a(e.id),className:(0,z.cn)("absolute w-5 h-5 rounded-full border-2 border-primary/50 bg-background transition-all hover:bg-primary/20",e.class,t===e.id&&"bg-primary border-primary-foreground ring-2 ring-offset-2 ring-primary"),"aria-label":e.label},e.id))})]})};var M=a(1095);/**
 * @license lucide-react v0.372.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let Z=(0,a(9648).Z)("ImagePlus",[["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7",key:"31hg93"}],["line",{x1:"16",x2:"22",y1:"5",y2:"5",key:"ez7e4s"}],["line",{x1:"19",x2:"19",y1:"2",y2:"8",key:"1gkr8c"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);var O="Toggle",W=s.forwardRef((e,t)=>{let{pressed:a,defaultPressed:s,onPressedChange:i,...n}=e,[o,c]=(0,u.T)({prop:a,onChange:i,defaultProp:s??!1,caller:O});return(0,r.jsx)(d.WV.button,{type:"button","aria-pressed":o,"data-state":o?"on":"off","data-disabled":e.disabled?"":void 0,...n,ref:t,onClick:(0,l.M)(e.onClick,()=>{e.disabled||c(!o)})})});W.displayName=O;var A="ToggleGroup",[E,L]=(0,i.b)(A,[n.Pc]),G=(0,n.Pc)(),B=s.forwardRef((e,t)=>{let{type:a,...s}=e;if("single"===a)return(0,r.jsx)(K,{...s,ref:t});if("multiple"===a)return(0,r.jsx)(X,{...s,ref:t});throw Error(`Missing prop \`type\` expected on \`${A}\``)});B.displayName=A;var[U,$]=E(A),K=s.forwardRef((e,t)=>{let{value:a,defaultValue:l,onValueChange:i=()=>{},...n}=e,[o,d]=(0,u.T)({prop:a,defaultProp:l??"",onChange:i,caller:A});return(0,r.jsx)(U,{scope:e.__scopeToggleGroup,type:"single",value:s.useMemo(()=>o?[o]:[],[o]),onItemActivate:d,onItemDeactivate:s.useCallback(()=>d(""),[d]),children:(0,r.jsx)(J,{...n,ref:t})})}),X=s.forwardRef((e,t)=>{let{value:a,defaultValue:l,onValueChange:i=()=>{},...n}=e,[o,d]=(0,u.T)({prop:a,defaultProp:l??[],onChange:i,caller:A}),c=s.useCallback(e=>d((t=[])=>[...t,e]),[d]),f=s.useCallback(e=>d((t=[])=>t.filter(t=>t!==e)),[d]);return(0,r.jsx)(U,{scope:e.__scopeToggleGroup,type:"multiple",value:o,onItemActivate:c,onItemDeactivate:f,children:(0,r.jsx)(J,{...n,ref:t})})});B.displayName=A;var[H,q]=E(A),J=s.forwardRef((e,t)=>{let{__scopeToggleGroup:a,disabled:s=!1,rovingFocus:l=!0,orientation:i,dir:o,loop:u=!0,...f}=e,m=G(a),x=(0,c.gm)(o),g={role:"group",dir:x,...f};return(0,r.jsx)(H,{scope:a,rovingFocus:l,disabled:s,children:l?(0,r.jsx)(n.fC,{asChild:!0,...m,orientation:i,dir:x,loop:u,children:(0,r.jsx)(d.WV.div,{...g,ref:t})}):(0,r.jsx)(d.WV.div,{...g,ref:t})})}),Y="ToggleGroupItem",Q=s.forwardRef((e,t)=>{let a=$(Y,e.__scopeToggleGroup),l=q(Y,e.__scopeToggleGroup),i=G(e.__scopeToggleGroup),o=a.value.includes(e.value),d=l.disabled||e.disabled,c={...e,pressed:o,disabled:d},u=s.useRef(null);return l.rovingFocus?(0,r.jsx)(n.ck,{asChild:!0,...i,focusable:!d,active:o,ref:u,children:(0,r.jsx)(ee,{...c,ref:t})}):(0,r.jsx)(ee,{...c,ref:t})});Q.displayName=Y;var ee=s.forwardRef((e,t)=>{let{__scopeToggleGroup:a,value:s,...l}=e,i=$(Y,a),n={role:"radio","aria-checked":e.pressed,"aria-pressed":void 0},o="single"===i.type?n:void 0;return(0,r.jsx)(W,{...o,...l,ref:t,onPressedChange:e=>{e?i.onItemActivate(s):i.onItemDeactivate(s)}})});let et=(0,a(2003).j)("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground",{variants:{variant:{default:"bg-transparent",outline:"border border-input bg-transparent hover:bg-accent hover:text-accent-foreground"},size:{default:"h-10 px-3",sm:"h-9 px-2.5",lg:"h-11 px-5"}},defaultVariants:{variant:"default",size:"default"}});s.forwardRef((e,t)=>{let{className:a,variant:s,size:l,...i}=e;return(0,r.jsx)(W,{ref:t,className:(0,z.cn)(et({variant:s,size:l,className:a})),...i})}).displayName=W.displayName;let ea=s.createContext({size:"default",variant:"default"}),er=s.forwardRef((e,t)=>{let{className:a,variant:s,size:l,children:i,...n}=e;return(0,r.jsx)(B,{ref:t,className:(0,z.cn)("flex items-center justify-center gap-1",a),...n,children:(0,r.jsx)(ea.Provider,{value:{variant:s,size:l},children:i})})});er.displayName=B.displayName;let es=s.forwardRef((e,t)=>{let{className:a,children:l,variant:i,size:n,...o}=e,d=s.useContext(ea);return(0,r.jsx)(Q,{ref:t,className:(0,z.cn)(et({variant:d.variant||i,size:d.size||n}),a),...o,children:l})});es.displayName=Q.displayName;var el=a(618);let ei=e=>{let{options:t,onOptionChange:a}=e;return(0,r.jsxs)("div",{className:"w-full space-y-6",children:[(0,r.jsxs)(v,{value:t.type,onValueChange:e=>a({...t,type:e}),children:[(0,r.jsxs)(P,{className:"grid w-full grid-cols-2 h-12",children:[(0,r.jsxs)(S,{value:"text",className:"h-full data-[state=active]:bg-primary data-[state=active]:text-primary-foreground data-[state=active]:shadow-md",children:[(0,r.jsx)(M.Z,{className:"mr-2 h-5 w-5"})," Text"]}),(0,r.jsxs)(S,{value:"image",className:"h-full data-[state=active]:bg-primary data-[state=active]:text-primary-foreground data-[state=active]:shadow-md",children:[(0,r.jsx)(Z,{className:"mr-2 h-5 w-5"})," Image"]})]}),(0,r.jsxs)(_,{value:"text",className:"space-y-4 pt-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(F._,{htmlFor:"watermark-text",children:"Watermark Text"}),(0,r.jsx)(R.I,{id:"watermark-text",value:t.text,onChange:e=>a({...t,text:e.target.value})})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(F._,{htmlFor:"font-size",children:"Font Size"}),(0,r.jsx)(R.I,{id:"font-size",type:"number",value:t.fontSize,onChange:e=>a({...t,fontSize:parseInt(e.target.value,10)||48})})]}),(0,r.jsxs)("div",{className:"flex flex-col items-start",children:[(0,r.jsx)(F._,{htmlFor:"color",children:"Color"}),(0,r.jsx)(R.I,{id:"color",type:"color",value:t.color,onChange:e=>a({...t,color:e.target.value}),className:"p-1 h-10 w-full cursor-pointer"})]})]})]}),(0,r.jsx)(_,{value:"image",className:"pt-4",children:(0,r.jsxs)("div",{children:[(0,r.jsx)(F._,{htmlFor:"watermark-image",children:"Watermark Image"}),(0,r.jsx)(R.I,{id:"watermark-image",type:"file",accept:"image/png, image/jpeg",onChange:e=>{e.target.files&&e.target.files[0]&&a({...t,image:e.target.files[0]})}}),t.image&&(0,r.jsxs)("p",{className:"text-sm text-muted-foreground mt-2 truncate",children:["Selected: ",t.image.name]})]})})]}),(0,r.jsx)(el.Z,{}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,r.jsx)(F._,{children:"Opacity"}),(0,r.jsxs)("span",{className:"text-sm font-medium text-muted-foreground",children:[Math.round(100*t.opacity),"%"]})]}),(0,r.jsx)(R.I,{type:"range",value:t.opacity,onChange:e=>a({...t,opacity:parseFloat(e.target.value)}),min:0,max:1,step:.05})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,r.jsx)(F._,{children:"Rotation"}),(0,r.jsxs)("span",{className:"text-sm font-medium text-muted-foreground",children:[t.rotation,"\xb0"]})]}),(0,r.jsx)(R.I,{type:"range",value:t.rotation,onChange:e=>a({...t,rotation:parseInt(e.target.value,10)}),min:-180,max:180,step:5})]})]}),(0,r.jsx)(el.Z,{}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(F._,{className:"font-medium",children:"Tiling"}),(0,r.jsxs)(er,{type:"single",value:t.positioning,onValueChange:e=>e&&a({...t,positioning:e}),className:"grid grid-cols-2 mt-2",children:[(0,r.jsx)(es,{value:"single","aria-label":"Single position",children:"Single"}),(0,r.jsx)(es,{value:"tiled","aria-label":"Tiled across page",children:"Tiled"})]})]}),"single"===t.positioning&&(0,r.jsx)(V,{position:t.position,onPositionChange:e=>a({...t,position:e})})]})]})}},8501:function(e,t,a){"use strict";a.d(t,{I:function(){return i}});var r=a(5893),s=a(7294),l=a(7596);let i=s.forwardRef((e,t)=>{let{className:a,type:s,...i}=e;return(0,r.jsx)("input",{type:s,className:(0,l.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:t,...i})});i.displayName="Input"},428:function(e,t,a){"use strict";a.d(t,{_:function(){return d}});var r=a(5893),s=a(7294),l=a(9102),i=a(2003),n=a(7596);let o=(0,i.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(l.f,{ref:t,className:(0,n.cn)(o(),a),...s})});d.displayName=l.f.displayName},701:function(e,t,a){"use strict";a.d(t,{O:function(){return l}});var r=a(5893),s=a(7596);function l(e){let{className:t,...a}=e;return(0,r.jsx)("div",{className:(0,s.cn)("animate-pulse rounded-md bg-muted",t),...a})}},7025:function(e,t,a){"use strict";a.d(t,{I:function(){return l}});var r=a(9495);let s=e=>{let t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16)/255,g:parseInt(t[2],16)/255,b:parseInt(t[3],16)/255}:{r:0,g:0,b:0}},l=async(e,t)=>{let a=await e.arrayBuffer(),l=await r.PDFDocument.load(a),i=l.getPages(),n=await l.embedFont(r.StandardFonts.Helvetica),o=null;if("image"===t.type&&t.image){let e=await t.image.arrayBuffer();o="image/png"===t.image.type?await l.embedPng(e):await l.embedJpg(e)}let d=s(t.color),c=(0,r.rgb)(d.r,d.g,d.b);for(let e of i){let{width:a,height:s}=e.getSize(),l=t.rotation;if("tiled"===t.positioning){let i="text"===t.type?300:400;for(let d=-s;d<2*s;d+=i)for(let s=-a;s<2*a;s+=i)if("text"===t.type)e.drawText(t.text,{x:s,y:d,font:n,size:t.fontSize,color:c,opacity:t.opacity,rotate:(0,r.degrees)(l)});else if(o){let a=o.scale(.5);e.drawImage(o,{x:s,y:d,width:a.width,height:a.height,opacity:t.opacity,rotate:(0,r.degrees)(l)})}}else{let i=0,d=0,u="text"===t.type?n.widthOfTextAtSize(t.text,t.fontSize):o?o.scale(.5).width:100,f="text"===t.type?n.heightAtSize(t.fontSize):o?o.scale(.5).height:20;switch(t.position){case"top-left":i=50,d=s-f-50;break;case"top-right":i=a-u-50,d=s-f-50;break;case"bottom-left":i=50,d=50;break;case"bottom-right":i=a-u-50,d=50;break;default:i=(a-u)/2,d=(s-f)/2}if("text"===t.type)e.drawText(t.text,{x:i,y:d,font:n,size:t.fontSize,color:c,opacity:t.opacity,rotate:(0,r.degrees)(l)});else if(o){let a=o.scale(.5);e.drawImage(o,{x:i,y:d,width:a.width,height:a.height,opacity:t.opacity,rotate:(0,r.degrees)(l)})}}}return await l.save()}},1941:function(e,t,a){"use strict";a.a(e,async function(e,r){try{a.r(t);var s=a(5893),l=a(7294),i=a(2962),n=a(5152),o=a.n(n),d=a(8541),c=a(9607),u=a(9314),f=a(217),m=a(1165),x=a(2417),g=a(701),p=a(7917),h=a(6014),b=a(3689),v=a(7025),j=e([d]);d=(j.then?(await j)():j)[0];let y=o()(()=>Promise.all([a.e(5443),a.e(8241)]).then(a.bind(a,8241)).then(e=>e.PdfThumbnailViewer),{loadableGenerated:{webpack:()=>[8241]},ssr:!1,loading:()=>(0,s.jsx)(g.O,{className:"w-full h-full"})}),w=o()(()=>a.e(4277).then(a.bind(a,4277)).then(e=>e.PdfWatermarkPreviewer),{loadableGenerated:{webpack:()=>[4277]},ssr:!1,loading:()=>(0,s.jsx)(g.O,{className:"w-full h-full"})});d.Tu.workerSrc="/pdf.worker.min.mjs";let N={type:"text",text:"CONFIDENTIAL",image:null,opacity:.5,rotation:-45,positioning:"tiled",position:"center",color:"#ff0000",fontSize:48};t.default=()=>{let e=p.rj["add-watermark"],{toast:t}=(0,h.pm)(),[a,r]=(0,l.useState)(null),[n,o]=(0,l.useState)("idle"),[g,j]=(0,l.useState)(null),[k,C]=(0,l.useState)(0),[I,T]=(0,l.useState)(0),[z,P]=(0,l.useState)(N),[S,_]=(0,l.useState)(""),[R,F]=(0,l.useState)(""),D=async e=>{if(j(null),e.length>0){let t=e[0];r(t),o("previewing");try{let e=await t.arrayBuffer(),a=await d.Me({data:e}).promise;C(a.numPages)}catch(e){console.error("PDF.js Error:",e),j("Could not read PDF. It may be corrupt or password-protected."),o("idle"),r(null)}}},V=async()=>{if(a){if("image"===z.type&&!z.image){t({title:"No Image Selected",description:"Please select an image file for the watermark.",variant:"destructive"});return}o("processing"),j(null);try{let e=await (0,v.I)(a,z),r=new Blob([e],{type:"application/podf"}),s=URL.createObjectURL(r);_(s),F("watermarked_".concat(a.name)),o("success"),t({title:"Success!",description:"Watermark added successfully."})}catch(a){let e=a instanceof Error?a.message:"An unknown error occurred.";j("Processing failed: ".concat(e)),o("error"),t({title:"Error",description:e,variant:"destructive"})}}},M=(0,l.useCallback)(()=>{r(null),o("idle"),C(0),T(0),P(N),j(null),S&&URL.revokeObjectURL(S),_("")},[S]);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.PB,{title:e.metaTitle,description:e.metaDescription,canonical:"https://pdfmingle.com/".concat(e.value)}),(0,s.jsx)("div",{className:"w-full h-full",children:"idle"===n||"error"===n?(0,s.jsxs)("div",{className:"container mx-auto px-4 py-12 text-center",children:[(0,s.jsx)("h1",{className:"text-4xl font-bold mb-4",children:e.h1}),(0,s.jsx)("p",{className:"text-lg text-gray-600 mb-8",children:e.description}),(0,s.jsx)(c.S,{onFilesSelected:D,acceptedFileTypes:{"application/pdf":[".pdf"]},selectedFiles:a?[a]:[],isMultiFile:!1,error:g,onProcess:()=>{},actionButtonText:e.label}),"error"===n&&(0,s.jsx)(x.z,{onClick:M,variant:"outline",className:"mt-4",children:"Try Again"})]}):"previewing"===n&&a?(0,s.jsxs)("div",{className:"fixed top-20 left-0 right-0 bottom-0 flex flex-col md:flex-row w-full bg-background z-10",children:[(0,s.jsx)("div",{className:"w-full md:w-64 flex-shrink-0 h-48 md:h-full border-r bg-gray-50 shadow-md",children:(0,s.jsx)(y,{file:a,currentPage:I,onPageChange:T,pageCount:k})}),(0,s.jsx)("div",{className:"flex-grow h-full flex items-center justify-center bg-gray-400 p-4 overflow-auto",children:(0,s.jsx)(w,{file:a,pageIndex:I,options:z})}),(0,s.jsxs)("div",{className:"w-full md:w-80 flex-shrink-0 bg-gray-50 p-6 flex flex-col shadow-lg border-l",children:[(0,s.jsxs)("div",{className:"flex-grow overflow-y-auto pr-2",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold mb-6 text-gray-800 text-center",children:"Watermark Options"}),(0,s.jsx)(m.V,{options:z,onOptionChange:P})]}),(0,s.jsxs)(x.z,{size:"lg",onClick:V,className:"w-full mt-6 bg-brand-blue hover:bg-brand-blue-dark font-bold py-6 text-lg flex-shrink-0",children:[(0,s.jsx)(b.Z,{className:"mr-2 h-5 w-5"}),"Add Watermark"]})]})]}):"processing"===n?(0,s.jsx)("div",{className:"flex items-center justify-center h-[70vh]",children:(0,s.jsx)(u.A,{})}):"success"===n?(0,s.jsx)("div",{className:"container mx-auto p-8",children:(0,s.jsx)(f.X,{downloadUrl:S,onStartOver:M,filename:R})}):null})]})},r()}catch(e){r(e)}})},9102:function(e,t,a){"use strict";a.d(t,{f:function(){return n}});var r=a(7294),s=a(9602),l=a(5893),i=r.forwardRef((e,t)=>(0,l.jsx)(s.WV.label,{...e,ref:t,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));i.displayName="Label";var n=i}},function(e){e.O(0,[4928,4827,9495,2888,9774,179],function(){return e(e.s=7443)}),_N_E=e.O()}]);