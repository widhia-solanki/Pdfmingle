(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4492],{8373:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/edit-pdf",function(){return n(3971)}])},4676:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.372.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,n(9648).Z)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]])},3225:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.372.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,n(9648).Z)("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]])},1095:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.372.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,n(9648).Z)("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]])},3619:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.372.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,n(9648).Z)("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]])},217:function(e,t,n){"use strict";n.d(t,{X:function(){return o}});var r=n(5893),a=n(2417),l=n(9967),i=n(3552),s=n(9661);let o=e=>{let{downloadUrl:t,onStartOver:n,filename:o}=e;return(0,r.jsxs)("div",{className:"w-full max-w-lg mx-auto flex flex-col items-center text-center gap-6 p-8 bg-green-500/10 border-2 border-green-500/20 rounded-xl",children:[(0,r.jsx)(l.Z,{className:"w-20 h-20 text-green-500"}),(0,r.jsx)("h2",{className:"text-3xl font-bold text-foreground",children:"Processing Complete!"}),(0,r.jsx)("p",{className:"text-muted-foreground",children:"Your file is ready for download."}),(0,r.jsxs)("div",{className:"w-full flex flex-col items-center gap-4 mt-4",children:[(0,r.jsx)("a",{href:t,download:o,className:"w-full",children:(0,r.jsxs)(a.z,{size:"lg",className:"w-full h-16 text-xl font-bold bg-brand-blue hover:bg-brand-blue-dark text-white",children:[(0,r.jsx)(i.Z,{className:"mr-3 h-6 w-6"}),"Download ",o]})}),(0,r.jsxs)(a.z,{variant:"outline",onClick:n,className:"w-full h-12 text-lg",children:[(0,r.jsx)(s.Z,{className:"mr-2 h-5 w-5"}),"Start Over"]})]})]})}},9314:function(e,t,n){"use strict";n.d(t,{A:function(){return l}});var r=n(5893),a=n(5197);let l=()=>(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center p-12 gap-4",children:[(0,r.jsx)(a.Z,{className:"w-16 h-16 text-primary animate-spin"}),(0,r.jsx)("p",{className:"text-lg font-semibold text-foreground animate-pulse",children:"Processing your file..."}),(0,r.jsx)("p",{className:"text-muted-foreground",children:"Please wait a few moments."})]})},9607:function(e,t,n){"use strict";n.d(t,{S:function(){return h}});var r=n(5893),a=n(7294),l=n(9994),i=n(2417),s=n(3023),o=n(9122),c=n(6341),d=n(8154),u=n(7596);let h=e=>{let{onFilesSelected:t,onProcess:n,acceptedFileTypes:h,actionButtonText:g,selectedFiles:f,isMultiFile:x,error:p}=e,m=(0,a.useCallback)(e=>{t(x?[...f,...e]:e)},[x,f,t]),{getRootProps:b,getInputProps:y,isDragActive:w,open:j}=(0,l.uI)({onDrop:m,accept:h,multiple:x,noClick:!0,noKeyboard:!0}),v=e=>{let n=[...f];n.splice(e,1),t(n)};return(0,r.jsxs)("div",{className:"w-full max-w-2xl mx-auto flex flex-col items-center gap-6",children:[(0,r.jsxs)("div",{...b(),className:(0,u.cn)("w-full border-2 border-dashed rounded-xl p-8 text-center transition-colors flex flex-col items-center justify-center min-h-[250px]",w?"border-primary bg-primary/10":"border-border bg-card",p&&"border-destructive bg-destructive/10"),children:[(0,r.jsx)("input",{...y()}),p?(0,r.jsxs)("div",{className:"flex flex-col items-center gap-4 text-destructive-foreground",children:[(0,r.jsx)(s.Z,{className:"w-16 h-16"}),(0,r.jsx)("p",{className:"text-lg font-semibold",children:"Upload Failed"}),(0,r.jsx)("p",{className:"text-base",children:p})]}):(0,r.jsxs)("div",{className:"flex flex-col items-center gap-4 text-muted-foreground",children:[(0,r.jsx)(o.Z,{className:"w-16 h-16"}),(0,r.jsx)("p",{className:"text-lg font-semibold",children:"Drag & drop files here"}),(0,r.jsx)("p",{className:"text-sm",children:"- or -"}),(0,r.jsx)(i.z,{type:"button",onClick:j,className:"bg-brand-blue hover:bg-brand-blue-dark text-white font-bold py-3 px-6 rounded-lg",children:"Select Files"})]})]}),f.length>0&&!p&&(0,r.jsxs)("div",{className:"w-full space-y-2",children:[(0,r.jsx)("h3",{className:"font-semibold text-lg text-left text-foreground",children:"Selected Files:"}),f.map((e,t)=>(0,r.jsxs)("div",{className:"w-full flex items-center justify-between p-3 bg-secondary rounded-lg",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 overflow-hidden",children:[(0,r.jsx)(c.Z,{className:"w-6 h-6 text-muted-foreground flex-shrink-0"}),(0,r.jsx)("span",{className:"font-medium truncate text-foreground",children:e.name})]}),(0,r.jsx)(i.z,{variant:"ghost",size:"icon",onClick:()=>v(t),className:"h-8 w-8 text-muted-foreground hover:text-foreground",children:(0,r.jsx)(d.Z,{className:"h-5 w-5"})})]},e.name+t))]}),f.length>0&&!p&&g&&(0,r.jsx)(i.z,{size:"lg",onClick:n,className:"w-full md:w-auto px-12 py-6 text-lg font-bold bg-red-500 hover:bg-red-600 mt-4",children:g})]})}},3336:function(e,t,n){"use strict";n.d(t,{Q:function(){return g}});var r=n(5893),a=n(7294),l=n(2417),i=n(9648);/**
 * @license lucide-react v0.372.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,i.Z)("Hand",[["path",{d:"M18 11V6a2 2 0 0 0-2-2v0a2 2 0 0 0-2 2v0",key:"aigmz7"}],["path",{d:"M14 10V4a2 2 0 0 0-2-2v0a2 2 0 0 0-2 2v2",key:"1n6bmn"}],["path",{d:"M10 10.5V6a2 2 0 0 0-2-2v0a2 2 0 0 0-2 2v8",key:"a9iiix"}],["path",{d:"M18 8a2 2 0 1 1 4 0v6a8 8 0 0 1-8 8h-2c-2.8 0-4.5-.86-5.99-2.34l-3.6-3.6a2 2 0 0 1 2.83-2.82L7 15",key:"1s1gnw"}]]);var o=n(1095),c=n(7886);/**
 * @license lucide-react v0.372.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let d=(0,i.Z)("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);var u=n(3225),h=n(7596);let g=e=>{let{toolMode:t,onToolModeChange:n,selectedObject:i,onObjectChange:g,onObjectDelete:f,onImageAdd:x}=e,p=a.useRef(null),m=e=>(0,h.cn)("h-10 w-10 text-gray-600 hover:bg-gray-100",t===e&&"bg-gray-800 text-white hover:bg-gray-700");return(0,r.jsx)("div",{className:"flex flex-wrap items-center justify-center gap-2",children:(0,r.jsxs)("div",{className:"flex items-center gap-1 p-1 border bg-white rounded-lg shadow-sm",children:[(0,r.jsx)(l.z,{variant:"ghost",size:"icon",onClick:()=>n("select"),className:m("select"),"aria-label":"Select Tool",children:(0,r.jsx)(s,{className:"h-5 w-5"})}),(0,r.jsx)(l.z,{variant:"ghost",size:"icon",onClick:()=>n("text"),className:m("text"),"aria-label":"Add Text",children:(0,r.jsx)(o.Z,{className:"h-5 w-5"})}),(0,r.jsx)(l.z,{variant:"ghost",size:"icon",onClick:()=>{var e;return null===(e=p.current)||void 0===e?void 0:e.click()},"aria-label":"Add Image",children:(0,r.jsx)(c.Z,{className:"h-5 w-5"})}),(0,r.jsx)("input",{type:"file",ref:p,onChange:e=>{e.target.files&&e.target.files[0]&&x(e.target.files[0]),e.target.value=""},accept:"image/png, image/jpeg",className:"hidden"}),(0,r.jsx)(l.z,{variant:"ghost",size:"icon",onClick:()=>n("draw"),className:m("draw"),"aria-label":"Draw",children:(0,r.jsx)(d,{className:"h-5 w-5"})}),(0,r.jsx)(l.z,{variant:"ghost",size:"icon",onClick:()=>n("shape"),className:m("shape"),"aria-label":"Add Shape",children:(0,r.jsx)(u.Z,{className:"h-5 w-5"})})]})})}},3895:function(e,t,n){"use strict";n.d(t,{w:function(){return u}});var r=n(5893),a=n(2417),l=n(8501),i=n(9648);/**
 * @license lucide-react v0.372.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,i.Z)("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);var o=n(1568);/**
 * @license lucide-react v0.372.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let c=(0,i.Z)("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);var d=n(3619);let u=e=>{let{zoom:t,onZoomChange:n,currentPage:i,pageCount:u,onPageChange:h}=e;return(0,r.jsxs)("div",{className:"flex items-center gap-4 p-2 bg-gray-800 text-white rounded-lg shadow-lg",children:[(0,r.jsx)(a.z,{variant:"ghost",size:"icon",className:"text-white hover:bg-gray-700",onClick:()=>h(Math.max(0,i-1)),children:(0,r.jsx)(s,{className:"h-5 w-5"})}),(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(l.I,{type:"number",value:i+1,onChange:e=>{let t=parseInt(e.target.value,10);!isNaN(t)&&t>=1&&t<=u&&h(t-1)},className:"w-12 h-8 text-center bg-gray-700 border-gray-600 text-white"}),(0,r.jsx)("span",{className:"mx-2",children:"/"}),(0,r.jsx)("span",{children:u})]}),(0,r.jsx)(a.z,{variant:"ghost",size:"icon",className:"text-white hover:bg-gray-700",onClick:()=>h(Math.min(u-1,i+1)),children:(0,r.jsx)(o.Z,{className:"h-5 w-5"})}),(0,r.jsx)("div",{className:"w-px h-6 bg-gray-600 mx-2"}),(0,r.jsx)(a.z,{variant:"ghost",size:"icon",className:"text-white hover:bg-gray-700",onClick:()=>n(Math.max(.1,t-.1)),children:(0,r.jsx)(c,{className:"h-5 w-5"})}),(0,r.jsxs)("span",{className:"w-16 text-center font-semibold text-sm",children:[Math.round(100*t),"%"]}),(0,r.jsx)(a.z,{variant:"ghost",size:"icon",className:"text-white hover:bg-gray-700",onClick:()=>n(Math.min(2.5,t+.1)),children:(0,r.jsx)(d.Z,{className:"h-5 w-5"})})]})}},8735:function(e,t,n){"use strict";n.a(e,async function(e,r){try{n.d(t,{E:function(){return g},z:function(){return h}});var a=n(5893),l=n(7294),i=n(8541),s=n(2663),o=n(2966),c=n(3428),d=n(5197),u=e([i]);(i=(u.then?(await u)():u)[0]).Tu.workerSrc="//unpkg.com/pdfjs-dist@".concat(i.i8,"/build/pdf.worker.min.mjs");let h=2,g=e=>{let{file:t,pageIndex:n,objects:r,onObjectsChange:u,mode:g,onObjectSelect:f}=e,x=(0,l.useRef)(null),p=(0,l.useRef)(null),m=(0,l.useRef)(null),[b,y]=(0,l.useState)(!1),[w,j]=(0,l.useState)({width:0,height:0}),[v,N]=(0,l.useState)(!1),[k,C]=(0,l.useState)([]),z=r.filter(e=>e.pageIndex===n);(0,l.useEffect)(()=>{(async()=>{if(!t||!x.current)return;y(!1);let e=await t.arrayBuffer(),r=await i.Me({data:e}).promise,a=await r.getPage(n+1),l=a.getViewport({scale:h}),s=x.current,o=s.getContext("2d");s.width=l.width,s.height=l.height,j({width:l.width,height:l.height}),o&&(await a.render({canvasContext:o,viewport:l}).promise,y(!0))})()},[t,n]),(0,l.useEffect)(()=>{if(!b||!p.current)return;let e=p.current,t=e.getContext("2d");t&&(t.clearRect(0,0,e.width,e.height),z.forEach(e=>{if("drawing"===e.type||"highlight"===e.type){let n=(0,o.ZP)(e.points,{size:e.strokeWidth}),r=new Path2D((0,c.U)(n));t.fillStyle="rgba(".concat(e.color.r,", ").concat(e.color.g,", ").concat(e.color.b,", ").concat("highlight"===e.type?e.opacity:1,")"),t.fill(r)}else"shape"===e.type&&"rectangle"===e.shapeType&&(t.fillStyle="rgba(".concat(e.fillColor.r,", ").concat(e.fillColor.g,", ").concat(e.fillColor.b,", ").concat(e.fillColor.a,")"),t.fillRect(e.x,e.y,e.width,e.height),e.borderWidth>0&&(t.strokeStyle="rgb(".concat(e.borderColor.r,", ").concat(e.borderColor.g,", ").concat(e.borderColor.b,")"),t.lineWidth=e.borderWidth,t.strokeRect(e.x,e.y,e.width,e.height)))}))},[z,b,w]);let S=(e,t)=>{let n=r.map(n=>n.id===e?{...n,...t}:n);u(n)},Z=e=>{"select"===g&&S(e.id,{isEditing:!0})};(0,l.useEffect)(()=>{m.current&&m.current.focus()},[r]);let M=()=>{if(!v||0===k.length)return;let e="draw"===g?{type:"drawing",id:"draw-".concat(Date.now()),pageIndex:n,points:k,color:{r:0,g:0,b:0},strokeWidth:5*h}:{type:"highlight",id:"highlight-".concat(Date.now()),pageIndex:n,points:k,color:{r:255,g:255,b:0},strokeWidth:20*h,opacity:.5};u([...r,e]),N(!1),C([])};return(0,a.jsxs)("div",{className:"relative shadow-lg",style:{width:w.width,height:w.height},onMouseDown:e=>{let t=e.currentTarget.getBoundingClientRect(),a=e.clientX-t.left,l=e.clientY-t.top;switch(g){case"draw":case"highlight":N(!0),C([{x:a,y:l,pressure:.5}]);break;case"text":let i={type:"text",id:"text-".concat(Date.now()),pageIndex:n,x:a,y:l,text:"New Text",size:16*h,font:"Helvetica",color:{r:0,g:0,b:0},width:150*h,height:20*h,isEditing:!0};u([...r,i]),f(i);break;case"shape":let s={type:"shape",shapeType:"rectangle",id:"shape-".concat(Date.now()),pageIndex:n,x:a,y:l,width:100*h,height:100*h,fillColor:{r:255,g:255,b:0,a:.5},borderColor:{r:0,g:0,b:0},borderWidth:2*h};u([...r,s]),f(s)}},onMouseMove:e=>{if(!v)return;let t=e.currentTarget.getBoundingClientRect();C([...k,{x:e.clientX-t.left,y:e.clientY-t.top,pressure:.5}])},onMouseUp:M,onMouseLeave:M,children:[!b&&(0,a.jsx)("div",{className:"absolute inset-0 bg-white/80 flex items-center justify-center z-30",children:(0,a.jsx)(d.Z,{className:"h-12 w-12 animate-spin text-gray-500"})}),(0,a.jsx)("canvas",{ref:x}),(0,a.jsx)("canvas",{ref:p,width:w.width,height:w.height,className:"absolute top-0 left-0 pointer-events-none"}),z.map(e=>"text"===e.type||"image"===e.type||"shape"===e.type?(0,a.jsx)(s.s,{size:{width:e.width,height:e.height},position:{x:e.x,y:e.y},onDragStop:(t,n)=>S(e.id,{x:n.x,y:n.y}),onResizeStop:(t,n,r,a,l)=>{S(e.id,{width:parseInt(r.style.width),height:parseInt(r.style.height),...l})},onClick:()=>f(e),onDoubleClick:()=>"text"===e.type&&Z(e),disableDragging:"select"!==g,enableResizing:"select"===g,className:"select"===g?"cursor-pointer border-2 border-dashed border-blue-500":"pointer-events-none",children:"text"===e.type?e.isEditing?(0,a.jsx)("textarea",{ref:m,value:e.text,onChange:t=>S(e.id,{text:t.target.value}),onBlur:()=>S(e.id,{isEditing:!1}),style:{width:"100%",height:"100%",border:"none",padding:0,margin:0,background:"rgba(255, 255, 255, 0.7)",outline:"none",resize:"none",fontSize:e.size,fontFamily:e.font,color:"rgb(".concat(e.color.r,", ").concat(e.color.g,", ").concat(e.color.b,")")}}):(0,a.jsx)("div",{style:{fontSize:e.size,fontFamily:e.font,color:"rgb(".concat(e.color.r,", ").concat(e.color.g,", ").concat(e.color.b,")"),whiteSpace:"pre-wrap"},children:e.text}):"image"===e.type?(0,a.jsx)("img",{src:URL.createObjectURL(new Blob([e.imageBytes])),alt:"user content",style:{width:"100%",height:"100%"}}):(0,a.jsx)("div",{style:{width:"100%",height:"100%",backgroundColor:"rgba(".concat(e.fillColor.r,", ").concat(e.fillColor.g,", ").concat(e.fillColor.b,", ").concat(e.fillColor.a,")"),border:"".concat(e.borderWidth,"px solid rgb(").concat(e.borderColor.r,", ").concat(e.borderColor.g,", ").concat(e.borderColor.b,")")}})},e.id):null)]})};r()}catch(e){r(e)}})},8501:function(e,t,n){"use strict";n.d(t,{I:function(){return i}});var r=n(5893),a=n(7294),l=n(7596);let i=a.forwardRef((e,t)=>{let{className:n,type:a,...i}=e;return(0,r.jsx)("input",{type:a,className:(0,l.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",n),ref:t,...i})});i.displayName="Input"},701:function(e,t,n){"use strict";n.d(t,{O:function(){return l}});var r=n(5893),a=n(7596);function l(e){let{className:t,...n}=e;return(0,r.jsx)("div",{className:(0,a.cn)("animate-pulse rounded-md bg-muted",t),...n})}},7807:function(e,t,n){"use strict";n.d(t,{I:function(){return s}});var r=n(9495),a=n(2966),l=n(3428);let i=async(e,t)=>{switch(t){case"Helvetica":default:return await e.embedFont(r.StandardFonts.Helvetica);case"TimesRoman":return await e.embedFont(r.StandardFonts.TimesRoman);case"Courier":return await e.embedFont(r.StandardFonts.Courier)}},s=async(e,t,n)=>{let s=await e.arrayBuffer(),o=await r.PDFDocument.load(s),c=o.getPages();for(let e of t){if(e.pageIndex>=c.length)continue;let t=c[e.pageIndex],{height:s}=t.getSize();if("text"===e.type){let{x:a,y:l,text:c,size:d,font:u,color:h,width:g}=e,f=await i(o,u);t.drawText(c,{x:a/n,y:s-l/n-d/n,font:f,size:d/n,color:(0,r.rgb)(h.r/255,h.g/255,h.b/255),maxWidth:g/n,lineHeight:1.2*d/n})}else if("image"===e.type){let{x:r,y:a,imageBytes:l,width:i,height:c}=e,d=await (137===new Uint8Array(l)[0]?o.embedPng(l):o.embedJpg(l));t.drawImage(d,{x:r/n,y:s-a/n-c/n,width:i/n,height:c/n})}else if("drawing"===e.type||"highlight"===e.type){let{points:i,color:o,strokeWidth:c}=e,d=i.map(e=>({...e,x:e.x/n,y:s-e.y/n})),u=(0,a.ZP)(d,{size:c/n}),h=(0,l.U)(u);t.drawSvgPath(h,{color:(0,r.rgb)(o.r/255,o.g/255,o.b/255),opacity:"highlight"===e.type?e.opacity:1})}else if("shape"===e.type){let{x:a,y:l,width:i,height:o,fillColor:c,borderColor:d,borderWidth:u}=e;"rectangle"===e.shapeType&&t.drawRectangle({x:a/n,y:s-l/n-o/n,width:i/n,height:o/n,color:(0,r.rgb)(c.r/255,c.g/255,c.b/255),opacity:c.a,borderColor:(0,r.rgb)(d.r/255,d.g/255,d.b/255),borderWidth:u/n})}}return await o.save()}},3428:function(e,t,n){"use strict";n.d(t,{U:function(){return a}});let r=(e,t)=>(e+t)/2;function a(e){if(!e.length)return"";let t=e.reduce((e,t,n,a)=>{let[l,i]=t,[s,o]=a[(n+1)%a.length];return e.push("Q",l,i,r(l,s),r(i,o)),e},["M",...e[0],"Q"]);return t.push("Z"),t.join(" ")}},3971:function(e,t,n){"use strict";n.a(e,async function(e,r){try{n.r(t);var a=n(5893),l=n(7294),i=n(2962),s=n(8541),o=n(5152),c=n.n(o),d=n(9607),u=n(9314),h=n(217),g=n(3336),f=n(8735),x=n(3895),p=n(7807),m=n(2417),b=n(701),y=n(7917),w=n(6014),j=n(4676),v=n(5197),N=e([s,f]);[s,f]=N.then?(await N)():N;let k=c()(()=>Promise.all([n.e(5443),n.e(8241)]).then(n.bind(n,8241)).then(e=>e.PdfThumbnailViewer),{loadableGenerated:{webpack:()=>[8241]},ssr:!1,loading:()=>(0,a.jsx)(b.O,{className:"w-full h-full"})});s.Tu.workerSrc="//unpkg.com/pdfjs-dist@".concat(s.i8,"/build/pdf.worker.min.mjs"),t.default=()=>{let e=y.rj["edit-pdf"],{toast:t}=(0,w.pm)(),[n,r]=(0,l.useState)(null),[o,c]=(0,l.useState)("idle"),[b,N]=(0,l.useState)(null),[C,z]=(0,l.useState)("select"),[S,Z]=(0,l.useState)(0),[M,P]=(0,l.useState)(0),[T,R]=(0,l.useState)(1),[D,F]=(0,l.useState)([]),[I,E]=(0,l.useState)(null),[O,U]=(0,l.useState)(""),[L,_]=(0,l.useState)(""),A=async e=>{if(e.length>0){let t=e[0];X(!1),r(t),c("editing");try{let e=await t.arrayBuffer(),n=await s.Me({data:e}).promise;Z(n.numPages)}catch(e){N("Could not read PDF. It may be corrupt or password-protected."),c("error")}}},B=e=>{let t=e||(null==I?void 0:I.id);t&&(F(D.filter(e=>e.id!==t)),E(null))},W=async e=>{let t=await e.arrayBuffer(),n={type:"image",id:"image-".concat(Date.now()),x:50,y:50,pageIndex:M,imageBytes:t,width:200,height:150};F([...D,n]),E(n)},H=async()=>{if(n){c("processing");try{let e=await (0,p.I)(n,D,f.z),t=new Blob([e],{type:"application/pdf"}),r=URL.createObjectURL(t);U(r),_("edited_".concat(n.name)),c("success")}catch(t){let e=t instanceof Error?t.message:"An unknown error occurred.";N("Save failed: ".concat(e)),c("error")}}},X=(0,l.useCallback)(function(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];e&&r(null),c("idle"),F([]),Z(0),P(0),z("select"),E(null),R(1),O&&URL.revokeObjectURL(O)},[O]);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.PB,{title:e.metaTitle,description:e.metaDescription,canonical:"https://pdfmingle.com/".concat(e.value)}),"idle"===o&&(0,a.jsxs)("div",{className:"container mx-auto px-4 py-12 text-center",children:[(0,a.jsx)("h1",{className:"text-4xl font-bold mb-4",children:e.h1}),(0,a.jsx)("p",{className:"text-lg text-gray-600 mb-8",children:e.description}),(0,a.jsx)(d.S,{onFilesSelected:A,acceptedFileTypes:{"application/pdf":[".pdf"]},selectedFiles:n?[n]:[],isMultiFile:!1,error:b,onProcess:()=>{},actionButtonText:"Select PDF"})]}),"editing"===o&&n&&(0,a.jsx)("div",{className:"fixed top-20 left-0 right-0 bottom-0 flex flex-col bg-gray-200",children:S>0?(0,a.jsxs)("div",{className:"flex w-full h-full",children:[(0,a.jsx)("div",{className:"w-64 flex-shrink-0 h-full border-r bg-gray-50 shadow-md",children:(0,a.jsx)(k,{file:n,currentPage:M,onPageChange:P,pageCount:S})}),(0,a.jsxs)("div",{className:"flex-grow h-full flex flex-col bg-gray-400 relative",children:[(0,a.jsx)("header",{className:"flex-shrink-0 w-full flex justify-center p-2 bg-white/80 backdrop-blur-sm shadow-sm z-10",children:(0,a.jsx)(g.Q,{toolMode:C,onToolModeChange:z,selectedObject:I,onObjectChange:e=>{let t=D.map(t=>t.id===e.id?e:t);F(t),E(e)},onObjectDelete:()=>B(),onImageAdd:W})}),(0,a.jsx)("div",{className:"flex-grow w-full h-full overflow-auto flex items-center justify-center p-4",children:(0,a.jsx)("div",{className:"m-auto",style:{transform:"scale(".concat(T,")"),transformOrigin:"center center"},children:(0,a.jsx)(f.E,{file:n,pageIndex:M,objects:D,onObjectsChange:F,mode:C,onObjectSelect:E})})}),(0,a.jsx)("footer",{className:"flex-shrink-0 w-full flex justify-center p-2 z-10",children:(0,a.jsx)(x.w,{zoom:T,onZoomChange:R,currentPage:M,pageCount:S,onPageChange:P})})]}),(0,a.jsxs)("div",{className:"w-80 flex-shrink-0 bg-gray-50 p-6 flex flex-col shadow-lg border-l",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold mb-4 text-gray-800",children:"Edit PDF"}),(0,a.jsx)("div",{className:"bg-blue-50 border border-blue-200 text-blue-800 p-4 rounded-lg mb-6 text-sm",children:(0,a.jsx)("p",{children:"Use the toolbar to modify or add text, upload images, and annotate with ease."})}),(0,a.jsx)("div",{className:"mt-auto",children:(0,a.jsxs)(m.z,{size:"lg",onClick:H,className:"w-full bg-red-500 hover:bg-red-600 font-bold py-6 text-lg",children:["Apply Changes",(0,a.jsx)(j.Z,{className:"ml-2 h-5 w-5"})]})})]})]}):(0,a.jsxs)("div",{className:"flex flex-col gap-4 items-center justify-center h-full",children:[(0,a.jsx)(v.Z,{className:"h-12 w-12 animate-spin text-gray-500"}),(0,a.jsx)("p",{className:"text-lg font-semibold text-gray-600",children:"Preparing your document..."})]})}),"processing"===o&&(0,a.jsx)("div",{className:"flex items-center justify-center h-[70vh]",children:(0,a.jsx)(u.A,{})}),"success"===o&&(0,a.jsx)("div",{className:"container mx-auto p-8",children:(0,a.jsx)(h.X,{downloadUrl:O,onStartOver:()=>X(!0),filename:L})}),"error"===o&&(0,a.jsxs)("div",{className:"text-center p-8",children:[(0,a.jsx)("p",{className:"text-red-500 font-semibold mb-4",children:b}),(0,a.jsx)(m.z,{onClick:()=>X(!0),variant:"outline",children:"Try Again"})]})]})},r()}catch(e){r(e)}})},2966:function(e,t,n){"use strict";n.d(t,{ZP:function(){return P}});let{PI:r}=Math,a=r+1e-4,l=.5,i=[1,1];function s(e,t,n,r=e=>e){return e*r(.5-t*(.5-n))}let{min:o}=Math;function c(e,t,n){let r=o(1,t/n);return o(1,e+(o(1,1-r)-e)*(.275*r))}function d(e,t){return[e[0]+t[0],e[1]+t[1]]}function u(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e}function h(e,t){return[e[0]-t[0],e[1]-t[1]]}function g(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e}function f(e,t){return[e[0]*t,e[1]*t]}function x(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e}function p(e){return[e[1],-e[0]]}function m(e,t){let n=t[0];return e[0]=t[1],e[1]=-n,e}function b(e,t){return e[0]*t[0]+e[1]*t[1]}function y(e,t){let n=e[0]-t[0],r=e[1]-t[1];return n*n+r*r}function w(e){var t;return t=Math.hypot(e[0],e[1]),[e[0]/t,e[1]/t]}function j(e,t,n){let r=Math.sin(n),a=Math.cos(n),l=e[0]-t[0],i=e[1]-t[1];return[l*a-i*r+t[0],l*r+i*a+t[1]]}function v(e,t,n,r){let a=Math.sin(r),l=Math.cos(r),i=t[0]-n[0],s=t[1]-n[1];return e[0]=i*l-s*a+n[0],e[1]=i*a+s*l+n[1],e}function N(e,t,n){return d(e,f(h(t,e),n))}let k=[0,0],C=[0,0],z=[0,0];function S(e,t,n){return!1===e||void 0===e?0:!0===e?Math.max(t,n):e}let Z=[0,0];function M(e){return null!=e&&e>=0}var P=function(e,t={}){return function(e,t={}){var n,r;let{size:l=16,smoothing:i=.5,thinning:o=.5,simulatePressure:N=!0,easing:Z=e=>e,start:M={},end:P={},last:T=!1}=t,{cap:R=!0,easing:D=e=>e*(2-e)}=M,{cap:F=!0,easing:I=e=>--e*e*e+1}=P;if(0===e.length||l<=0)return[];let E=e[e.length-1].runningLength,O=S(M.taper,l,E),U=S(P.taper,l,E),L=(l*i)**2,_=[],A=[],B=e.slice(0,10).reduce((e,t)=>{let n=t.pressure;return N&&(n=c(e,t.distance,l)),(e+n)/2},e[0].pressure),W=s(l,o,e[e.length-1].pressure,Z),H,X=e[0].vector,V=e[0].point,Q=V,q=V,Y=Q,G=!1;for(let t=0;t<e.length;t++){let{pressure:n}=e[t],{point:r,vector:i,distance:f,runningLength:p}=e[t],w=t===e.length-1;if(!w&&E-p<3)continue;o?(N&&(n=c(B,f,l)),W=s(l,o,n,Z)):W=l/2,void 0===H&&(H=W),W=Math.max(.01,W*Math.min(p<O?D(p/O):1,E-p<U?I((E-p)/U):1));let j=(w?e[t]:e[t+1]).vector,S=w?1:b(i,j),M=0>b(i,X)&&!G,P=null!==S&&S<0;if(M||P){m(k,X),x(k,k,W);for(let e=0;e<=1;e+=.07692307692307693)g(C,r,k),v(C,C,r,a*e),q=[C[0],C[1]],_.push(q),u(z,r,k),v(z,z,r,-(a*e)),Y=[z[0],z[1]],A.push(Y);V=q,Q=Y,P&&(G=!0);continue}if(G=!1,w){m(k,i),x(k,k,W),_.push(h(r,k)),A.push(d(r,k));continue}(function(e,t,n,r){let a=n[0]-t[0],l=n[1]-t[1];e[0]=t[0]+a*r,e[1]=t[1]+l*r})(k,j,i,S),m(k,k),x(k,k,W),g(C,r,k),q=[C[0],C[1]],(t<=1||y(V,q)>L)&&(_.push(q),V=q),u(z,r,k),Y=[z[0],z[1]],(t<=1||y(Q,Y)>L)&&(A.push(Y),Q=Y),B=n,X=i}let J=[e[0].point[0],e[0].point[1]],K=e.length>1?[e[e.length-1].point[0],e[e.length-1].point[1]]:d(e[0].point,[1,1]),$=[],ee=[];if(1===e.length){if(!(O||U)||T)return function(e,t){var n;let r=(n=w(p(h(e,d(e,[1,1])))),d(e,f(n,-t))),l=[],i=1/13;for(let t=i;t<=1;t+=i)l.push(j(r,e,2*a*t));return l}(J,H||W)}else{let t,l,i;O||U&&1===e.length||(R?$.push(...function(e,t,n){let r=[],l=1/13;for(let n=l;n<=1;n+=l)r.push(j(t,e,a*n));return r}(J,A[0],0)):$.push(...(l=f(t=h(_[0],A[0]),.5),i=f(t,.51),[h(J,l),h(J,i),d(J,i),d(J,l)])));let s=p([-(n=e[e.length-1].vector)[0],-n[1]]);U||O&&1===e.length?ee.push(K):F?ee.push(...function(e,t,n,r){let l=[],i=d(e,f(t,n)),s=1/29;for(let t=s;t<1;t+=s)l.push(j(i,e,3*a*t));return l}(K,s,W,0)):ee.push(d(K,f(s,r=W)),d(K,f(s,.99*r)),h(K,f(s,.99*r)),h(K,f(s,r)))}return _.concat(ee,A.reverse(),$)}(function(e,t={}){let{streamline:n=.5,size:r=16,last:a=!1}=t;if(0===e.length)return[];let s=.15+(1-n)*.85,o=Array.isArray(e[0])?e:e.map(({x:e,y:t,pressure:n=l})=>[e,t,n]);if(2===o.length){let e=o[1];o=o.slice(0,-1);for(let t=1;t<5;t++)o.push(N(o[0],e,t/4))}1===o.length&&(o=[...o,[...d(o[0],i),...o[0].slice(2)]]);let c=[{point:[o[0][0],o[0][1]],pressure:M(o[0][2])?o[0][2]:.25,vector:[...i],distance:0,runningLength:0}],u=!1,h=0,f=c[0],x=o.length-1;for(let e=1;e<o.length;e++){var p,m;let t=a&&e===x?[o[e][0],o[e][1]]:N(f.point,o[e],s);if((p=f.point)[0]===t[0]&&p[1]===t[1])continue;let n=(m=f.point,Math.hypot(t[1]-m[1],t[0]-m[0]));if(h+=n,e<x&&!u){if(h<r)continue;u=!0}g(Z,f.point,t),f={point:t,pressure:M(o[e][2])?o[e][2]:l,vector:w(Z),distance:n,runningLength:h},c.push(f)}return c[0].vector=c[1]?.vector||[0,0],c}(e,t),t)}}},function(e){e.O(0,[4928,4827,9495,2663,2888,9774,179],function(){return e(e.s=8373)}),_N_E=e.O()}]);