(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3226],{7512:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/ToolPage",function(){return a(6438)}])},3552:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.372.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,a(9648).Z)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},1064:function(e,t,a){"use strict";a.d(t,{Ol:function(){return o},SZ:function(){return c},Zb:function(){return s},aY:function(){return d},eW:function(){return f},ll:function(){return i}});var r=a(5893),l=a(7294),n=a(7596);let s=l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...l})});s.displayName="Card";let o=l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",a),...l})});o.displayName="CardHeader";let i=l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,r.jsx)("h3",{ref:t,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",a),...l})});i.displayName="CardTitle";let c=l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,r.jsx)("p",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",a),...l})});c.displayName="CardDescription";let d=l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",a),...l})});d.displayName="CardContent";let f=l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",a),...l})});f.displayName="CardFooter"},3049:function(e,t,a){"use strict";a.r(t);var r=a(5893);t.default=()=>(0,r.jsx)("div",{className:"min-h-[50vh] flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("h1",{className:"text-4xl font-bold mb-4",children:"404 - Page Not Found"}),(0,r.jsx)("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! The page you are looking for does not exist."}),(0,r.jsx)("a",{href:"/",className:"text-ilovepdf-red hover:underline font-semibold",children:"Return to Homepage"})]})})},6438:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return E}});var r=a(5893),l=a(7294),n=a(1163),s=a(2417),o=a(9648);/**
 * @license lucide-react v0.372.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let i=(0,o.Z)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);var c=a(7596);let d=e=>{let{onFilesSelected:t}=e,a=(0,l.useRef)(null),[n,o]=(0,l.useState)(!1),d=(0,l.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),o(!0)},[]),f=(0,l.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),o(!1)},[]),u=(0,l.useCallback)(e=>{e.preventDefault(),e.stopPropagation()},[]),p=(0,l.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),o(!1),e.dataTransfer.files&&e.dataTransfer.files.length>0&&(t(Array.from(e.dataTransfer.files)),e.dataTransfer.clearData())},[t]);return(0,r.jsxs)("div",{className:"w-full max-w-2xl mx-auto flex flex-col items-center gap-6",children:[(0,r.jsxs)("div",{onDragEnter:d,onDragLeave:f,onDragOver:u,onDrop:p,className:(0,c.cn)("w-full bg-white rounded-lg border-2 border-dashed p-8 md:p-12 flex flex-col items-center justify-center text-center transition-all duration-300",n?"border-brand-blue bg-blue-50":"border-gray-300"),children:[(0,r.jsx)(i,{className:(0,c.cn)("h-16 w-16 mb-4",n?"text-brand-blue":"text-gray-400")}),(0,r.jsx)("h2",{className:"text-2xl font-bold text-ilovepdf-text",children:n?"Drop your files here!":"Drag & Drop files here"}),(0,r.jsx)("p",{className:"text-gray-500 my-2",children:"or"}),(0,r.jsx)(s.z,{onClick:()=>{var e;null===(e=a.current)||void 0===e||e.click()},className:"w-full max-w-xs h-14 text-lg font-semibold bg-brand-blue hover:bg-brand-blue-dark text-white rounded-lg",children:"Select PDF files"})]}),(0,r.jsx)("input",{type:"file",ref:a,className:"hidden",multiple:!0,accept:".pdf, .doc, .docx, .jpg, .jpeg, .png",onChange:e=>{e.target.files&&t(Array.from(e.target.files))}})]})};var f=a(1064);/**
 * @license lucide-react v0.372.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let u=(0,o.Z)("FileCheck2",[["path",{d:"M4 22h14a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v4",key:"1pf5j1"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m3 15 2 2 4-4",key:"1lhrkk"}]]);var p=a(3552),m=a(9661);let x=e=>{let{downloadUrl:t,onDownload:a,onStartOver:l,fileName:n}=e;return(0,r.jsx)("div",{className:"w-full max-w-xl mx-auto flex flex-col items-center text-center animate-in fade-in duration-500",children:(0,r.jsx)(f.Zb,{className:"w-full shadow-lg border-gray-200 p-8",children:(0,r.jsxs)(f.aY,{className:"flex flex-col items-center gap-6 p-0",children:[(0,r.jsx)(u,{className:"h-20 w-20 text-green-500"}),(0,r.jsx)("h2",{className:"text-3xl font-bold text-gray-800",children:"Your files are ready!"}),(0,r.jsx)("p",{className:"text-gray-600 font-medium text-lg break-all px-4",children:n}),(0,r.jsxs)("div",{className:"w-full flex flex-col items-center gap-4 mt-4",children:[(0,r.jsxs)(s.z,{onClick:a,disabled:!t,className:"w-full max-w-xs h-16 text-xl font-bold bg-red-500 hover:bg-red-600 text-white rounded-lg shadow-md hover:shadow-lg transition-all",children:[(0,r.jsx)(p.Z,{className:"mr-3 h-6 w-6"}),"Download File"]}),(0,r.jsxs)(s.z,{variant:"outline",onClick:l,className:"w-full max-w-xs h-12 text-lg",children:[(0,r.jsx)(m.Z,{className:"mr-2 h-5 w-5"}),"Start Over"]})]})]})})})};var h=a(7917),g=a(9495),w=a(5733),b=a.n(w);async function y(e){let t=await g.PDFDocument.create();for(let a of e){let e=await a.arrayBuffer(),r=await g.PDFDocument.load(e);(await t.copyPages(r,r.getPageIndices())).forEach(e=>t.addPage(e))}return new Blob([await t.save()],{type:"application/pdf"})}async function v(e){let t=await e.arrayBuffer(),a=await g.PDFDocument.load(t),r=a.getPageCount();if(r<=1)throw Error("PDF must have more than one page to split.");let l=new(b());for(let e=0;e<r;e++){let t=await g.PDFDocument.create(),[r]=await t.copyPages(a,[e]);t.addPage(r);let n=await t.save();l.file("page_".concat(String(e+1).padStart(3,"0"),".pdf"),n)}return l.generateAsync({type:"blob"})}async function j(e,t){let a=await e.arrayBuffer(),r=await g.PDFDocument.load(a);return r.getPages().forEach(e=>{let a=e.getRotation().angle;e.setRotation({type:g.RotationTypes.Degrees,angle:a+t})}),new Blob([await r.save()],{type:"application/pdf"})}async function N(e){let t=await g.PDFDocument.create();for(let a of e){let e=await a.arrayBuffer(),r=await t.embedJpg(e);t.addPage([r.width,r.height]).drawImage(r,{x:0,y:0,width:r.width,height:r.height})}return new Blob([await t.save()],{type:"application/pdf"})}async function k(e){let t=await e.arrayBuffer(),a=await g.PDFDocument.load(t),r=await a.embedFont(g.StandardFonts.Helvetica),l=a.getPages();for(let e=0;e<l.length;e++){let t=l[e],{width:a,height:n}=t.getSize();t.drawText("".concat(e+1," / ").concat(l.length),{x:a/2-20,y:20,size:12,font:r,color:(0,g.rgb)(0,0,0)})}return new Blob([await a.save()],{type:"application/pdf"})}var D=a(6014),P=a(3049);let C=["merge-pdf","split-pdf","rotate-pdf","jpg-to-pdf","add-page-numbers"];var E=()=>{let e=(0,n.useRouter)(),{toolId:t}=e.query,{toast:a}=(0,D.pm)(),[s,o]=(0,l.useState)([]),[i,c]=(0,l.useState)("idle"),[f,u]=(0,l.useState)(null),[p,m]=(0,l.useState)("download.pdf"),g=h.$G.find(e=>e.value===t);if((0,l.useEffect)(()=>{s.length>0&&"idle"===i&&b()},[s,i]),(0,l.useEffect)(()=>{w()},[t]),!e.isReady)return(0,r.jsx)("div",{children:"Loading..."});if(!t||!g)return(0,r.jsx)(P.default,{});let w=()=>{f&&URL.revokeObjectURL(f),o([]),c("idle"),u(null),m("download.pdf")},b=async()=>{if(0===s.length||!t)return;c("processing");let e=!C.includes(t);try{let r;let l=t,n="pdf";if(e){let e=new FormData;s.forEach(t=>e.append("files",t));let a="".concat("https://pdfmingle-backend.onrender.com","/").concat(t),o=await fetch(a,{method:"POST",body:e});if(!o.ok)throw Error("Server error: ".concat(o.statusText));r=await o.blob(),l="".concat(s[0].name.replace(/\.[^/.]+$/,""),"_processed"),"application/zip"===o.headers.get("Content-Type")&&(n="zip")}else switch(t){case"merge-pdf":r=await y(s),l="merged";break;case"split-pdf":if(s.length>1)throw Error("Please select only one file to split.");r=await v(s[0]),l="".concat(s[0].name.replace(".pdf",""),"_split"),n="zip";break;case"rotate-pdf":if(s.length>1)throw Error("Please select only one file.");r=await j(s[0],90),l="".concat(s[0].name.replace(".pdf",""),"_rotated");break;case"jpg-to-pdf":r=await N(s),l="images_converted";break;case"add-page-numbers":if(s.length>1)throw Error("Please select only one file.");r=await k(s[0]),l="".concat(s[0].name.replace(".pdf",""),"_numbered");break;default:throw Error("Tool not implemented for browser processing.")}let o="".concat(l,".").concat(n),i=URL.createObjectURL(r);u(i),m(o),c("success"),a({title:"Success!",description:"Your files have been processed."})}catch(t){let e=t instanceof Error?t.message:"An unknown error occurred.";c("idle"),o([]),a({title:"Processing failed",description:e,variant:"destructive"})}};return(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center text-center p-4",children:[(0,r.jsx)("h1",{className:"text-4xl font-bold mb-2",children:g.label}),(0,r.jsx)("p",{className:"text-lg text-muted-foreground mb-8 max-w-xl",children:g.description}),(0,r.jsx)("div",{className:"w-full max-w-2xl",children:"success"===i?(0,r.jsx)(x,{downloadUrl:f,onDownload:()=>{if(f){let e=document.createElement("a");e.href=f,e.download=p,document.body.appendChild(e),e.click(),document.body.removeChild(e)}},onStartOver:w,fileName:p}):"processing"===i?(0,r.jsx)("div",{className:"flex flex-col items-center justify-center p-12 h-64 border-2 border-dashed rounded-lg",children:(0,r.jsx)("p",{className:"text-lg font-semibold animate-pulse",children:"Processing your files..."})}):(0,r.jsx)(d,{onFilesSelected:o})})]})}}},function(e){e.O(0,[9495,5733,2888,9774,179],function(){return e(e.s=7512)}),_N_E=e.O()}]);