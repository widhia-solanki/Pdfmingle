"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2234],{9967:function(e,a,t){t.d(a,{Z:function(){return l}});/**
 * @license lucide-react v0.372.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=(0,t(9648).Z)("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},5197:function(e,a,t){t.d(a,{Z:function(){return l}});/**
 * @license lucide-react v0.372.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=(0,t(9648).Z)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},2234:function(e,a,t){t.r(a),t.d(a,{FeedbackModal:function(){return b}});var l=t(5893),n=t(7294),s=t(2417),r=t(2378),i=t(7596);let o=n.forwardRef((e,a)=>{let{className:t,...n}=e;return(0,l.jsx)("textarea",{className:(0,i.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:a,...n})});o.displayName="Textarea";var u=t(6317),d=t(6014),c=t(9967),f=t(5197),m=t(1163),x=t(109),p=t(5590);let h=[{emoji:"\uD83D\uDE21",value:1,label:"Very Dissatisfied"},{emoji:"\uD83D\uDE15",value:2,label:"Dissatisfied"},{emoji:"\uD83D\uDE10",value:3,label:"Neutral"},{emoji:"\uD83D\uDE42",value:4,label:"Satisfied"},{emoji:"\uD83D\uDE0D",value:5,label:"Very Satisfied"}],b=e=>{let{isOpen:a,onOpenChange:t}=e,{user:b}=(0,u.a)(),{toast:g}=(0,d.pm)(),v=(0,m.useRouter)(),[j,y]=(0,n.useState)(null),[k,N]=(0,n.useState)(""),[D,w]=(0,n.useState)(!1),[C,E]=(0,n.useState)(!1),S=async()=>{if(!j){g({title:"Please select a rating.",variant:"destructive"});return}w(!0);let e={userId:(null==b?void 0:b.uid)||"anonymous",userName:(null==b?void 0:b.displayName)||"Anonymous User",rating:j.value,emoji:j.emoji,comment:k,page:v.pathname,timestamp:(0,x.Bt)()};try{await (0,x.ET)((0,x.hJ)(p.db,"feedback"),e),E(!0),setTimeout(()=>{var e;t(!1),g({description:"Thanks for your feedback, ".concat((null==b?void 0:null===(e=b.displayName)||void 0===e?void 0:e.split(" ")[0])||"friend","! \uD83D\uDC99")})},1500)}catch(e){console.error("Error adding document: ",e),g({title:"Error",description:"Could not send feedback. Please try again.",variant:"destructive"})}finally{w(!1)}};return(0,l.jsx)(r.Vq,{open:a,onOpenChange:e=>{t(e),e||setTimeout(()=>{y(null),N(""),w(!1),E(!1)},300)},children:(0,l.jsx)(r.cZ,{className:"sm:max-w-md bg-card border-border p-6 rounded-lg shadow-xl",children:C?(0,l.jsxs)("div",{className:"flex flex-col items-center justify-center text-center py-8 gap-4",children:[(0,l.jsx)(c.Z,{className:"h-16 w-16 text-green-500"}),(0,l.jsx)(r.$N,{className:"text-2xl font-semibold text-foreground",children:"Feedback Sent!"})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(r.fK,{children:[(0,l.jsx)(r.$N,{className:"text-xl font-bold text-foreground",children:"Share Your Feedback"}),(0,l.jsx)(r.Be,{className:"text-muted-foreground",children:"How was your experience with this tool?"})]}),(0,l.jsx)("div",{className:"flex justify-around items-center py-4",children:h.map(e=>(0,l.jsx)("button",{onClick:()=>y(e),className:(0,i.cn)("flex flex-col items-center gap-2 text-4xl rounded-lg p-2 transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 focus:ring-offset-background",(null==j?void 0:j.value)===e.value?"scale-125 transform":"scale-100 hover:scale-110 opacity-60 hover:opacity-100"),"aria-label":e.label,children:e.emoji},e.value))}),(0,l.jsx)(o,{value:k,onChange:e=>N(e.target.value),placeholder:"Tell us what you liked or what we can improve... (optional)",className:"mt-2"}),(0,l.jsxs)(r.cN,{className:"mt-4 sm:justify-end gap-2",children:[(0,l.jsx)(s.z,{type:"button",variant:"ghost",onClick:()=>t(!1),children:"Cancel"}),(0,l.jsxs)(s.z,{onClick:S,disabled:!j||D,children:[D&&(0,l.jsx)(f.Z,{className:"mr-2 h-4 w-4 animate-spin"}),"Send Feedback"]})]})]})})})}}}]);